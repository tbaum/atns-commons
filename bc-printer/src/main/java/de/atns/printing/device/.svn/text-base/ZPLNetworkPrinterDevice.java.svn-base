/**
 *
 * Copyright (c) 2005 ATNS GmbH & Co.KG. All Rights Reserved.
 *
 * This file may not be reproduced in any form or by any means (graphic,
 * electronic, or mechanical) without written permission from ATNS. The
 * content of this file is subject to change without notice.
 *
 * ATNS does not assume liability for the use of this file or the results
 * obtained from using it.
 * 
 **/

package de.atns.printing.device;

import java.io.IOException;
import java.io.OutputStream;
import java.io.UnsupportedEncodingException;
import java.net.Socket;

/**
 * 
 * @author Thomas Baum
 * 
 */
public class ZPLNetworkPrinterDevice extends ZPLPrinterDevice {

    private String adress;

    private int port;

    /**
     * @param adress
     * @param port
     * @param name
     */
    public ZPLNetworkPrinterDevice(final String adress, final int port) {
        super();
        this.adress = adress;
        this.port = port;
    }

    @Override
    protected void processInstructions(final StringBuffer sb) throws UnsupportedEncodingException, IOException {
        final Socket socket = new Socket(this.adress, this.port);
        final OutputStream stream = socket.getOutputStream();
        stream.write(sb.toString().getBytes("iso-8859-1"));
        stream.flush();
        stream.close();
        socket.close();
    }

    public String getAdress() {
        return this.adress;
    }

    public int getPort() {
        return this.port;
    }
}
